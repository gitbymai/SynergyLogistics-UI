<div class="card shadow-sm my-4">
  <div class="card-header d-flex justify-content-between align-items-center">
    <div>
      <h5 class="mb-0">Financial Transactions</h5>
      <small class="text-muted">{{ charges?.length || 0 }} item(s)</small>
    </div>
    <button class="btn btn-sm btn-primary" [routerLink]="['/jobs/jobmanagement', jobGuid, 'charges']">
      <i class="bi bi-gear"></i> Manage
    </button>
  </div>
  <div class="card-body p-3">
    <table class="table table-sm table-hover mb-0">
      <thead class="table-light">
        <tr>
          <th>Code</th>
          <th>Item</th>
          <th>Description</th>
          <th>Status</th>
          <th class="text-end">Amount</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let charge of charges">
          <td>
            <small class="text-muted">{{ charge.chargecode }}</small>
          </td>
          <td>
            <span class="badge bg-secondary">{{ charge.chargesubcategoryname }}</span>
          </td>
          <td>{{ charge.description || 'N/A' }}</td>
          <td>
            <span class="badge" [ngClass]="{
                    'bg-success': charge.chargestransactionstatus === 'APPROVED',
                    'bg-warning': charge.chargestransactionstatus === 'PENDING',
                    'bg-danger': charge.chargestransactionstatus === 'CANCELLED',
                    'bg-info': charge.chargestransactionstatus === 'COMPLETED'
                  }">
              {{ charge.chargestransactionstatus }}
            </span>
          </td>
          <td class="text-end">
            {{ charge.currencycode }} {{ charge.amount | number:'1.2-2' }}
          </td>
        </tr>
        <tr *ngIf="!charges || charges.length === 0">
          <td colspan="5" class="text-center text-muted py-3">
            No charges found.
          </td>
        </tr>
      </tbody>
      <tfoot *ngIf="charges && charges.length > 0" class="table-light">
        <tr class="fw-bold">
          <td colspan="4" class="text-end">Total:</td>
          <td class="text-end">â‚±{{ total | number:'1.2-2' }}</td>
        </tr>
      </tfoot>
    </table>
  </div>
</div>